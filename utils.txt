utility finctions for version 3
